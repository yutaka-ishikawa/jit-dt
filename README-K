		For K Machine
							      2018/05/04
						yutaka.ishikawa@riken.jp
(1) Installation on K
  1) Copy hibiki:/opt/nowcast/jit-dt/jit-dt-src.tar to K and
     extract files from the tar file
  2) Edit the Makefile if you do not like the default installation
      directory, i.e., $(HOME)/nowcast.
       INSTTOP = $(HOME)/nowcast
  3) Issue the following commands:
     $ make k_client
     $ make install_k_client
  4) You will find the following files
    $(HOME)/bin/
		jit-kwatch
		kwatcher
		k-ptranstest2
		...
    $(HOME)/etc/
		conf
(2) Make sure that you must always use a specific login node.
    IP addresses of klogin2-klogin9 are 134.160.185.82 - 134.160.185.89.
    This means that you must specify IP address, instead of using k.riken.jp.

(3) Invoking a daemon process on K login node.
    This is an example of the kwatcher daemon invocation:
     $ ~/nowcast/bin/jit-kwatch start \
	  /tmp/ishikawa \
	  /scratch/ra000022/a03228/data/
    Here are assumptions:
      1) The /tmp/ishikawa directory has been created.
      	 The directory MUST be a local disk on the K login node,
	 NOT your home directory. The home directory is a global file system.
	 Files will be transferred in this directory. The daemon watches
	 if a new file is created by using Linux inotify system call.
	 This system call works on a local disk, but does not work on a
	 global file system.
      2) Observed data will be located on /scratch/ra000022/a03228/data/.


(4) Set up on NICT
   Please use pawr-dp03
  $ Edit the ktest/bin/jit-dt2 file
   The following three environment variables must be changed.
	REMOTEUSER=a03228
	PKCS11=~/.ssh/id_rsa-2
	OPTIONS="sftp:$REMOTEUSER@134.160.185.83:/scratch/ra000022/a03228/data/  \
	    /mnt/latest-kobe/ \
	    -c $TOP/etc/serverconf \
	    -n $TOP/jitready:/tmp/ishikawa/ -v -D \
	    -f $TOP/JITLOG"
   1) REMOTEUSER is your user account on K
   2) PKCS11 is a private key of your K account. Please copy it to the
      pawr-dp03 machine.
   3) In the above OPTIONS environment,
      134.160.185.83 <-- this is klogin3's IP address.
      /scratch/ra000022/a03228/data/ <-- the directory you want to receive data
      -n $TOP/jitready:/tmp/ishikawa/ <-- The /tmp/ishikawa/ directory must be
					  the same directory specified in
					  kwatcher daemon's option.

(5) Invoking a daemon on NICT
   When you invoke the daemon at 9:20 AM on 7th of May, then
      $ jit-dt2 start -s 2018-0507/09/

   2018-0507 is a directory under the /mnt/latest-kobe/ where observed data
   are stored. "2018-0507/09/" means the daemon start watching this directory.

(6) Looking at the log file on NICT
    ~/ktest/JITLOG.1 is a log file.
    Please look at this file to check files are transferred.
    
(7) Looking at the log file on K
   ~/nowcast/KWATCHLOG.1 is a log file.
       Please look at this file to check files are received.

(8) For testing, please look at the run-ptranstest2.sh.
